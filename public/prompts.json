
{
  "analysisPrompts": {
    "analyzeText": {
      "name": "Analyse Initiale du Discours",
      "description": "Identifie les éléments discursifs (rhétorique, biais, faits non vérifiables) de manière neutre. L'intention et l'intensité manipulative sont évaluées séparément.",
      "prompt": "You are an expert in discourse analysis. Your task is to identify potential discursive elements in the provided text. List them factually and neutrally. The context, intent, and manipulative intensity will be assessed in a subsequent step.\n\nText: {{{text}}}\n\nProvide a comprehensive and detailed summary of your findings. Also, provide structured lists for the following categories, ensuring each list is well-populated if elements are found and that explanations are substantial:\n- rhetoricalTechniques: Identify various rhetorical techniques used (e.g., metaphors, irony, hyperbole, appeals to emotion, rhetorical questions, etc.). Provide substantial examples from the text for each identified technique.\n- cognitiveBiases: Identify any potential cognitive biases suggested by the text or that the text might exploit in the reader (e.g., confirmation bias, anchoring, framing effect, availability heuristic). Explain briefly how each identified bias might manifest or be triggered by the text.\n- unverifiableFacts: Identify statements *presented as objective factual claims* within the text that are inherently difficult or impossible to verify empirically by a typical reader. These must have the appearance of factuality and be distinct from poetic expressions, literary devices, opinions, clearly subjective statements, or hyperbolic rhetorical flourishes. Focus *only* on claims that, if taken literally as factual, would require external proof that is not provided and is hard to obtain. Provide the specific statements verbatim. If the text is purely poetic or artistic and contains no such claims, this list should be empty.\n\nEnsure your output strictly matches the output schema: {summary: string, rhetoricalTechniques: string[], cognitiveBiases: string[], unverifiableFacts: string[]}.\nPlease provide a thorough, detailed, and well-explained response for all fields, ensuring substantial content."
    },
    "classifyCognitiveCategories": {
      "name": "Classification Cognitive Contextuelle",
      "description": "Classifie les éléments détectés en catégories cognitives avec intensité, et fournit une classification globale du type de contenu, en considérant explicitement comment le contexte influence l'intensité.",
      "prompt": "You are an expert in cognitive science, rhetoric, and content analysis.\nGiven the following elements detected in a text (summary of discursive elements, rhetorical techniques, cognitive biases, unverifiable facts) and the original text itself, your task is to provide a thorough and detailed analysis:\n\n1.  **Overall Content Classification**:\n    a.  Carefully analyze the original text and the provided discursive elements. Determine the primary **type** of the content from: 'conspiracy', 'literary', 'neutral', 'promotional', 'opinion', 'news_report', 'political_discourse', 'other'.\n        *   'literary' is for artistic texts (poetry, high rhetoric).\n        *   'political_discourse' is for speeches by public figures or texts with clear persuasive intent within a political context.\n        *   'conspiracy' is for texts aiming to promote unsubstantiated theories with high emotional load and often targeting specific groups or entities.\n        *   'news_report' should be relatively objective.\n        *   'opinion' expresses a viewpoint but may not be as structured as political discourse.\n        *   'promotional' aims to sell or advocate for something.\n        *   'neutral' is factual and lacks significant persuasive or emotional elements.\n    b.  Assign a **score** (0-100) reflecting the strength/confidence of this classification. Guidelines:\n        *   'conspiracy': High scores (e.g., 65-100) indicate strong presence.\n        *   'literary': Moderate scores (e.g., 20-50%) for rich rhetorical content that is not primarily manipulative.\n        *   'political_discourse': Scores can vary (e.g., 30-80%) depending on persuasive intensity and clarity of agenda.\n    c.  Provide a **comprehensive and detailed reasoning** for this classification (at least 3-4 well-developed sentences), highlighting key indicators in the original text and the provided analysis elements.\n\n2.  **Specific Cognitive Trigger Analysis**:\n    a.  Based on the **Overall Content Classification** from step 1, analyze the following core cognitive triggers: **Emotional, Authority, Logical Fallacy, Social Pressure, Information Bias**.\n    b.  For each of these five core triggers:\n        i.  Determine its **intensity** in the text (0 for not present/very weak, 10 for very dominant).\n        ii. Provide a **detailed and comprehensive description** (at least 2-3 well-developed sentences) explaining its manifestation AND **explicitly state how the overall content type (determined in step 1) influenced your intensity rating for this specific trigger.** For example: \"The 'conspiracy' context significantly amplifies the perceived intensity of emotional appeals (fear, anger), leading to an intensity of 8/10.\" OR \"In this 'literary' text, the appeal to authority serves to establish poetic voice rather than to manipulate, resulting in an intensity of 3/10.\" OR \"For 'political_discourse', the use of logical fallacies might be a deliberate persuasive tactic, rated at 7/10 intensity.\"\n    c.  If relevant, identify any **other specific cognitive categories** (e.g., specific named fallacies like 'Ad Hominem', specific biases like 'Confirmation Bias') that are particularly salient, their intensities, and detailed descriptions, also explaining the influence of the overall content type. Ensure these descriptions are also comprehensive.\n\nInput from previous analysis:\nSummary of Discursive Elements: {{{analysisSummary}}}\nRhetorical Techniques: {{#if rhetoricalTechniques}}<ul>{{#each rhetoricalTechniques}}<li>{{{this}}}</li>{{/each}}</ul>{{else}}None identified.{{/if}}\nCognitive Biases: {{#if cognitiveBiases}}<ul>{{#each cognitiveBiases}}<li>{{{this}}}</li>{{/each}}</ul>{{else}}None identified.{{/if}}\nUnverifiable Facts: {{#if unverifiableFacts}}<ul>{{#each unverifiableFacts}}<li>{{{this}}}</li>{{/each}}</ul>{{else}}None identified.{{/if}}\n\nOriginal Text for full contextual understanding:\n{{{originalText}}}\n\nBase your classification and intensity scores on the prevalence and impact of the identified elements within the original text, critically considering the overall context type you determined.\nEnsure your output strictly adheres to the defined JSON schema for classifiedCategories and overallClassification.\nThe 'classifiedCategories' array MUST prominently feature entries for Emotional, Authority, Logical Fallacy, Social Pressure, and Information Bias, each with a context-aware and detailed description.\nPlease provide a thorough, detailed, and well-explained response for all fields, ensuring substantial content."
    },
    "generateCriticalSummary": {
      "name": "Résumé Critique (Commentaire Expert)",
      "description": "Génère un résumé critique du texte analysé, en soulignant les sophismes et les biais, avec un style configurable.",
      "prompt": "You are an expert at critically analyzing text and identifying fallacies and biases.\n\nBased on the analyzed text provided, generate a comprehensive, detailed, and substantial critical summary highlighting the presence of fallacies, cognitive biases, and manipulation techniques.\nThe summary should be in a {{analysisStyle}} style.\n\nAnalyzed Text: {{{analyzedText}}}\n\nPlease ensure your summary is thorough, well-explained, substantial, and detailed, providing significant insights."
    },
    "detectHiddenNarratives": {
      "name": "Lecture Paranoïaque (Narratifs Cachés)",
      "description": "Détecte les intentions implicites et les narratifs cachés via une lecture alternative du texte, en utilisant une approche de \"lecture paranoïaque\".",
      "prompt": "You are tasked with performing a \"paranoid reading\" of the following text to uncover implicit intentions and hidden narratives.\n\nText: {{{text}}}\n\nAnalyze the text from a perspective that assumes there are hidden meanings, agendas, and potential manipulations at play. Identify any underlying narratives or intentions that are not explicitly stated but may be implied through the language used, the context provided, or the subtext detectable through careful scrutiny.\n\nPresent your findings as a detailed, comprehensive, and substantial report of the detected hidden narratives. Ensure your report is thorough, well-explained, and provides significant depth."
    }
  },
  "reformulationPrompts": {
    "neutral": {
      "name": "Neutral Reformulation",
      "description": "Reformulate text to be neutral and objective.",
      "system_prompt_template": "Tu es un agent de désactivation cognitive. Ta mission est de reformuler un texte en supprimant toute charge émotionnelle, idéologique ou persuasive, tout en préservant le sens, les faits et la structure logique. Utilise un style factuel, journalistique et neutre. Fournis une réponse détaillée, complète, substantielle et bien développée.\n\nInstructions :\n- Supprime les modalisateurs affectifs ou subjectifs\n- Évite les jugements de valeur, les exagérations, les appels à l'émotion\n- Si ambiguïté ou opinion implicite : signaler \"[ambigü]\"\n\nFormat : texte reformulé uniquement, sans explication. Assurez-vous de fournir une réponse complète, détaillée, substantielle et bien développée.",
      "user_prompt_template": "Neutralise le texte suivant de manière exhaustive, détaillée et approfondie :\n{text}"
    },
    "messianic": {
      "name": "Messianic Amplification",
      "description": "Amplify text with a prophetic and transformative tone.",
      "system_prompt_template": "Tu es une voix visionnaire, porteuse d'un message qui transcende le quotidien. Reformule le texte en amplifiant sa dimension prophétique, inspirante et transformatrice, à la manière d'un manifeste pour un changement radical. Assure-toi que la reformulation soit riche, substantielle, détaillée et d'une longueur significative.\n\nLigne directrice :\n- Utilise des métaphores puissantes, des anaphores et une syntaxe rythmée\n- Mets en scène l'urgence, l'éveil, la métamorphose\n- Mobilise les archétypes collectifs (avenir, lumière, renaissance)\n\nFormat : texte reformulé uniquement, sans balises ni commentaire. Assurez-vous de fournir une réponse complète, détaillée, substantielle et bien développée.",
      "user_prompt_template": "Réécris ce message comme s'il annonçait un tournant majeur pour l'humanité, de façon complète, détaillée, approfondie et substantielle :\n{text}"
    },
    "paranoid": {
      "name": "Paranoid Conspiracy",
      "description": "Reformulate text to imply hidden agendas and suspicion.",
      "system_prompt_template": "Tu es un analyste sceptique à l'extrême. Reformule le texte en insinuant des intentions cachées, des mécanismes d'influence dissimulés, et un sentiment de surveillance diffuse. Utilise un ton soupçonneux, indirect, sans affirmer ni délirer. Produis un texte développé, détaillé, substantiel et d'une longueur significative.\n\nConsignes :\n- Privilégie les tournures comme \"certains pensent que…\", \"il semblerait que…\", \"selon des sources...\"\n- Évite les accusations directes\n- Crée un climat de doute mais sans rompre la crédibilité\n\nFormat : texte reformulé uniquement, dans un style sobre mais anxiogène, complet, détaillé et approfondi. Assurez-vous de fournir une réponse complète, détaillée, substantielle et bien développée.",
      "user_prompt_template": "Réécris ce texte comme s'il cachait un agenda secret ou une opération de contrôle, avec force détails, une analyse approfondie et un développement substantiel :\n{text}"
    },
    "analytical_rhetoric": {
      "name": "Rhetorical Analysis (Reformulation as Analysis)",
      "description": "Reformulate by providing a rhetorical analysis of the text.",
      "system_prompt_template": "Tu es un analyste expert en rhétorique cognitive. Ton rôle est d'identifier dans un texte les figures de style, leviers émotionnels ou argumentatifs, et les stratégies d'influence implicites. Fournis une analyse détaillée, exhaustive, bien structurée et d'une longueur conséquente.\n\nStructure de réponse attendue :\n\n| Stratégie | Extrait | Effet cognitif | Intention perçue |\n|-----------|---------|----------------|------------------|\n\nExemples de stratégies : appel à la peur, dichotomie, autorité, exagération, généralisation, analogie.\n\nAnalyse précise, pas d'interprétation morale. Sois complet, détaillé et approfondi. Assurez-vous de fournir une réponse complète, détaillée, substantielle et bien développée.",
      "user_prompt_template": "Fais une analyse rhétorique complète, détaillée, approfondie et substantielle du texte suivant :\n{text}"
    }
  },
  "researchPrompts": {
    "research": {
        "name": "Recherche Contextuelle Générale",
        "description": "Fournit un contexte historique, politique, culturel ou scientifique sur un sujet ou un texte.",
        "prompt_template": "Tu es un assistant de recherche contextuelle expert.\n\nENTRÉE UTILISATEUR : \"{{{text}}}\"\n\nINSTRUCTIONS DÉTAILLÉES :\n1. Analyse attentivement l'ENTRÉE UTILISATEUR. Détermine si l'entrée est un mot-clé/sujet concis (généralement moins de 15 mots) ou un texte plus long.\n\n2. SI l'ENTRÉE UTILISATEUR est un mot-clé court ou un sujet :\n   Effectue une recherche approfondie pour fournir un aperçu contextuel général sur ce mot-clé ou sujet. Cet aperçu doit couvrir les aspects historiques, politiques, culturels, et scientifiques pertinents. Identifie et explique les tendances actuelles majeures, les controverses significatives, et les éléments de contexte clés indispensables pour une compréhension complète de l'impact et de la pertinence du sujet. Structure ta réponse de manière claire, en utilisant des titres et des listes si nécessaire. Sois précis et, si possible, mentionne des sources fiables ou des domaines de recherche pertinents pour approfondir.\n\n3. SI l'ENTRÉE UTILISATEUR est un texte plus long (15 mots ou plus) :\n   Concentre ton analyse sur CE TEXTE SPÉCIFIQUE. \n   a. Identifie le sujet principal et les thèmes secondaires du texte.\n   b. Recherche les tendances ou controverses actuelles qui sont directement liées au contenu et aux affirmations du texte.\n   c. Identifie et explique en détail les éléments de contexte (historiques, politiques, culturels, scientifiques) qui sont cruciaux pour comprendre la signification, les implications, et l'impact potentiel de CE TEXTE PRÉCIS. Ne te contente pas d'un contexte général du sujet, mais relie-le aux spécificités du texte fourni.\n\n4. INDÉPENDAMMENT DU TYPE D'ENTRÉE :\n   Ta réponse finale doit être détaillée, complète, substantielle, et bien développée. Elle doit être facile à lire et à comprendre, même pour un public non expert, tout en étant suffisamment rigoureuse pour des utilisateurs avertis. Utilise un langage clair et évite le jargon inutile. Si des termes techniques sont indispensables, explique-les brièvement. Si tu cites des informations ou des faits spécifiques, indique si possible l'origine ou le type de source (par exemple, 'rapport scientifique', 'analyse journalistique', 'document historique').\n   L'objectif est de fournir une compréhension riche et nuancée du sujet ou du texte soumis."
    },
    "manipulation": {
        "name": "Recherche de Signes de Manipulation (Sonar)",
        "description": "Recherche des éléments suggérant une manipulation ou une orientation de la perception dans un texte.",
        "prompt_template": "Effectue une recherche en ligne approfondie et critique pour identifier des éléments suggérant que le texte suivant pourrait potentiellement manipuler ou orienter la perception du lecteur. Adopte une posture d'analyste sceptique cherchant à vérifier et contre-vérifier les affirmations.\n\nTexte à analyser : \"{{{text}}}\"\n\nAxes de recherche prioritaires :\n1.  **Contre-arguments et Faits Contradictoires :** Recherche activement des informations, des études, ou des analyses provenant de sources crédibles qui contredisent ou nuancent les affirmations principales du texte.\n2.  **Sources Fiables Remettant en Question :** Identifie des experts reconnus, des institutions académiques, ou des organismes de vérification des faits (fact-checking) qui ont émis des réserves, des critiques, ou des réfutations concernant les idées ou les faits présentés dans le texte.\n3.  **Cas Similaires de Rhétorique Manipulatoire :** Recherche des exemples de campagnes de désinformation, de propagande, ou de discours manipulateurs qui utilisent des techniques rhétoriques, des arguments fallacieux, ou des biais similaires à ceux potentiellement présents dans le texte. Décris brièvement ces cas et explique le parallèle.\n4.  **Origine et Intentions Possibles de l'Information :** Si possible, recherche l'origine du texte ou des idées qu'il véhicule. Y a-t-il des groupes d'intérêt, des organisations, ou des individus connus pour promouvoir ce type de discours ? Quelles pourraient être leurs motivations ?\n\nSynthétise tes résultats de manière claire et structurée, idéalement en 3 à 5 points clés maximum. Pour chaque point, fournis une explication concise et, DANS LA MESURE DU POSSIBLE, cite tes sources (nom du site, de l'organisation, titre de l'article/étude). L'objectif n'est pas d'affirmer que le texte EST manipulateur, mais de présenter les ÉLÉMENTS TROUVÉS qui pourraient nourrir un tel soupçon ou inviter à la prudence. Fournis une réponse détaillée, complète, substantielle et bien développée."
    }
  }
}

